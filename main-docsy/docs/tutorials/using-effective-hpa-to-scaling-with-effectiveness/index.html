<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.102.3"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/main-docsy/favicons/favicon.ico><link rel=apple-touch-icon href=/main-docsy/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/main-docsy/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/main-docsy/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/main-docsy/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/main-docsy/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/main-docsy/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/main-docsy/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/main-docsy/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/main-docsy/favicons/android-192x192.png sizes=192x192><title>Effective HorizontalPodAutoscaler | Crane</title><meta name=description content="Using effective hpa to scaling with effectiveness"><meta property="og:title" content="Effective HorizontalPodAutoscaler"><meta property="og:description" content="Using effective hpa to scaling with effectiveness"><meta property="og:type" content="article"><meta property="og:url" content="https://docs.gocrane.io/main-docsy/docs/tutorials/using-effective-hpa-to-scaling-with-effectiveness/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-09-18T22:57:38+08:00"><meta property="og:site_name" content="Crane"><meta itemprop=name content="Effective HorizontalPodAutoscaler"><meta itemprop=description content="Using effective hpa to scaling with effectiveness"><meta itemprop=dateModified content="2022-09-18T22:57:38+08:00"><meta itemprop=wordCount content="2816"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Effective HorizontalPodAutoscaler"><meta name=twitter:description content="Using effective hpa to scaling with effectiveness"><link rel=preload href=/main-docsy/scss/main.min.f4870c69a3526683406b314140cdd0fe00001c7dfe1b1b9bd6bd473abba6c143.css as=style><link href=/main-docsy/scss/main.min.f4870c69a3526683406b314140cdd0fe00001c7dfe1b1b9bd6bd473abba6c143.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/main-docsy/><span class=navbar-logo><svg id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="306" height="186" viewBox="144.139 425.446 306 186" enable-background="new 144.139 425.446 306 186"><path fill="#58bda6" d="M267.919 572.702c-.372 5.728-4.972 10.091-10.27 9.743l-40.779-2.65c-5.3-.347-9.293-5.269-8.923-10.991l2.974-45.702c.373-5.728 4.973-10.088 10.271-9.743l40.78 2.652c5.299.345 9.293 5.267 8.921 10.99L267.919 572.702z"/><path fill="#ee7300" d="M355.802 528.969c-28.058-24.713-63.021-62.657-91.196-87.232-1.938-1.69-5.604-3.409-7.457-2.647-1.938.795-3.404 4.46-3.778 7.058-1.761 12.192-2.91 28.237-4.656 40.433-.437 3.041-1.971 6.067-3.571 8.762-2.041 3.435-.873 12.792 2.958 15.723 3.085 2.357 4.303 5.096 1.854 7.834-1.351 1.512-4.525 1.391-6.992 2.032 2.374 2.482 5.765 2.633 9.24-.084 3.808-2.979 2.631-7.084-4.054-14.46 4.628-3.659 5.886-7.839 2.424-13.33-1.104-1.75-.191-4.886.068-7.356 1.027-9.761 2.094-23.278 3.315-33.019.292-2.324 1.237-4.564 2.349-8.479 26.078 34.224 56.794 78.868 82.623 112.767.93-6.764-.387-17.9-.708-23.131-.193-3.154-5.785-8.536-7.861-11.352-3.039-4.109-6.746-7.742-9.644-11.94-.76-1.101-.824-2.206.128-3.594 1.252-1.816 2.925.178 3.865 1.018 9.287 8.277 25.465 24.596 31.02 35.665.248.495-1.506-11.808-.865-10.746"/><path d="M185.44 554.611v-4.04c0-2.692-.57-4.727-1.712-6.104-1.145-1.375-2.634-2.062-4.475-2.062-3.021-.056-5.026.505-6.021 1.686-.994 1.179-1.49 2.806-1.49 4.881l-.11 31.229c0 1.796.515 3.188 1.548 4.166 1.028.982 2.834 1.476 5.412 1.476 1.618.0 2.908-.295 3.866-.883.957-.593 1.692-1.334 2.21-2.231.515-.896.828-1.88.938-2.946.11-1.064.166-2.076.166-3.028v-5.726h19.442v7.744c0 2.693-.534 5.176-1.603 7.449-1.067 2.271-2.727 4.224-4.972 5.85-2.247 1.629-5.156 2.894-8.729 3.788-3.573.897-7.826 1.347-12.761 1.347-4.493.0-8.305-.447-11.435-1.347-3.132-.896-5.688-2.201-7.679-3.914-1.988-1.71-3.442-3.813-4.363-6.312-.922-2.497-1.382-5.349-1.382-8.545V551.16c0-6.899 2.117-11.979 6.354-15.233 4.232-3.254 10.808-4.883 19.72-4.883 4.124.0 7.823.353 11.104 1.054 3.275.702 6.058 1.782 8.341 3.239 2.282 1.461 4.033 3.354 5.248 5.684s1.821 5.092 1.821 8.29v5.304H185.44V554.611z"/><path fill="#fff" d="M231.8 574.649l-16.795-1.156 3.754-54.526 24.521 1.688c6.934.479 12.024 1.985 15.27 4.521 3.243 2.536 4.682 6.521 4.308 11.945-.2 2.909-.979 5.362-2.329 7.364-1.354 2.001-3.818 3.488-7.4 4.457l-.009.146c2.324.553 4.212 1.483 5.653 2.801 1.443 1.316 2.162 2.924 2.161 4.824.049 1.125.066 2.486.052 4.094-.013 1.604-.028 3.235-.047 4.892-.019 1.655-.018 3.236.007 4.749.023 1.514.135 2.712.329 3.603.389.854.887 1.521 1.49 2.002l-.051.729-18.317-1.261c-.219-.552-.392-1.086-.515-1.608-.125-.518-.199-1.046-.228-1.586.039-2.43.165-4.724.379-6.877.211-2.148.247-4.084.11-5.799-.139-1.712-.569-3.105-1.294-4.18-.726-1.074-2.071-1.726-4.036-1.958l-5.533-.381L231.8 574.649zM233.957 543.314l5.726.396c1.208.081 2.222-.041 3.045-.375.821-.334 1.479-.801 1.966-1.399s.842-1.305 1.058-2.118c.216-.812.354-1.631.409-2.455.108-1.6-.026-2.875-.409-3.827-.38-.949-1.034-1.679-1.958-2.18-.923-.501-2.132-.842-3.62-1.017-1.49-.177-3.255-.311-5.294-.401L233.957 543.314z"/><path d="M265.164 595.689l18.116-63.132h23.423l18.006 63.132h-19.663l-2.762-12.291h-15.246l-2.318 12.291H265.164zm29.828-51.684h-.222l-5.634 28.282h11.269L294.992 544.005z"/><path d="M352.709 556.745l-.223.168 1.77 35.188h-18.448v-63.132h19.995l15.024 35.269h.331l-1.88-35.269h18.45V592.1h-19.887l-15.132-35.355z"/><path d="M397.406 595.689v-63.132h44.521v12.625H416.85V556.8h24.305v12.627H416.85v13.636h26.403v12.627L397.406 595.689z"/><circle fill="#fff" cx="344.901" cy="536.967" r="3.136"/></svg></span><span class=font-weight-bold>Crane</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/main-docsy/docs/><i class='fas fa-book pr-2'></i><span>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/main-docsy/community/><i class='fab fa-youtube pr-2'></i><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/gocrane/crane target=_blank><i class='fab fa-github pr-2'></i><span>GitHub</span></a></li><li class="nav-item dropdown mr-4 d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Releases</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=https://docs.gocrane.io/main-docsy>main</a>
<a class=dropdown-item href=https://docs.gocrane.io/release-0.7>release-0.7</a>
<a class=dropdown-item href=https://docs.gocrane.io/release-0.4/>release-0.4</a></div></li><li class="nav-item dropdown mr-4 d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/main-docsy/zh-cn/docs/tutorials/using-effective-hpa-to-scaling-with-effectiveness/>Chinese</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/main-docsy/zh-cn/docs/tutorials/using-effective-hpa-to-scaling-with-effectiveness/>Chinese</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-main-docsydocs-li><a href=/main-docsy/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-main-docsydocs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-main-docsydocsgetting-started-li><input type=checkbox id=m-main-docsydocsgetting-started-check>
<label for=m-main-docsydocsgetting-started-check><a href=/main-docsy/docs/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-main-docsydocsgetting-started><span>Getting Started</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocsgetting-startedintroduction-li><input type=checkbox id=m-main-docsydocsgetting-startedintroduction-check>
<label for=m-main-docsydocsgetting-startedintroduction-check><a href=/main-docsy/docs/getting-started/introduction/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocsgetting-startedintroduction><span>Introduction</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocsgetting-startedinstallation-li><input type=checkbox id=m-main-docsydocsgetting-startedinstallation-check>
<label for=m-main-docsydocsgetting-startedinstallation-check><a href=/main-docsy/docs/getting-started/installation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocsgetting-startedinstallation><span>Installation</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-main-docsydocstutorials-li><input type=checkbox id=m-main-docsydocstutorials-check checked>
<label for=m-main-docsydocstutorials-check><a href=/main-docsy/docs/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-main-docsydocstutorials><span>Tutorials</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocstutorialsanalytics-and-recommendation-li><input type=checkbox id=m-main-docsydocstutorialsanalytics-and-recommendation-check>
<label for=m-main-docsydocstutorialsanalytics-and-recommendation-check><a href=/main-docsy/docs/tutorials/analytics-and-recommendation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocstutorialsanalytics-and-recommendation><span>Analytics and Recommendation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocstutorialsdynamic-scheduler-plugin-li><input type=checkbox id=m-main-docsydocstutorialsdynamic-scheduler-plugin-check>
<label for=m-main-docsydocstutorialsdynamic-scheduler-plugin-check><a href=/main-docsy/docs/tutorials/dynamic-scheduler-plugin/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocstutorialsdynamic-scheduler-plugin><span>Dynamic-scheduler: a load-aware scheduler plugin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocstutorialsreplicas-recommendation-li><input type=checkbox id=m-main-docsydocstutorialsreplicas-recommendation-check>
<label for=m-main-docsydocstutorialsreplicas-recommendation-check><a href=/main-docsy/docs/tutorials/replicas-recommendation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocstutorialsreplicas-recommendation><span>Replicas Recommendation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocstutorialsresource-recommendation-li><input type=checkbox id=m-main-docsydocstutorialsresource-recommendation-check>
<label for=m-main-docsydocstutorialsresource-recommendation-check><a href=/main-docsy/docs/tutorials/resource-recommendation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocstutorialsresource-recommendation><span>Resource Recommendation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocstutorialsscheduling-pods-based-on-actual-node-load-li><input type=checkbox id=m-main-docsydocstutorialsscheduling-pods-based-on-actual-node-load-check>
<label for=m-main-docsydocstutorialsscheduling-pods-based-on-actual-node-load-check><a href=/main-docsy/docs/tutorials/scheduling-pods-based-on-actual-node-load/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocstutorialsscheduling-pods-based-on-actual-node-load><span>Crane-scheduler</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocstutorialstimeseriees-forecasting-by-dsp-li><input type=checkbox id=m-main-docsydocstutorialstimeseriees-forecasting-by-dsp-check>
<label for=m-main-docsydocstutorialstimeseriees-forecasting-by-dsp-check><a href=/main-docsy/docs/tutorials/timeseriees-forecasting-by-dsp/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocstutorialstimeseriees-forecasting-by-dsp><span>DSP 预测算法</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocstutorialsusing-effective-hpa-to-scaling-with-effectiveness-li><input type=checkbox id=m-main-docsydocstutorialsusing-effective-hpa-to-scaling-with-effectiveness-check>
<label for=m-main-docsydocstutorialsusing-effective-hpa-to-scaling-with-effectiveness-check><a href=/main-docsy/docs/tutorials/using-effective-hpa-to-scaling-with-effectiveness/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-main-docsydocstutorialsusing-effective-hpa-to-scaling-with-effectiveness><span class=td-sidebar-nav-active-item>Effective HorizontalPodAutoscaler</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocstutorialsusing-qos-ensurance-li><input type=checkbox id=m-main-docsydocstutorialsusing-qos-ensurance-check>
<label for=m-main-docsydocstutorialsusing-qos-ensurance-check><a href=/main-docsy/docs/tutorials/using-qos-ensurance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocstutorialsusing-qos-ensurance><span>QoS Ensurance</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocstutorialsusing-time-series-prediction-li><input type=checkbox id=m-main-docsydocstutorialsusing-time-series-prediction-check>
<label for=m-main-docsydocstutorialsusing-time-series-prediction-check><a href=/main-docsy/docs/tutorials/using-time-series-prediction/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocstutorialsusing-time-series-prediction><span>TimeSeriesPrediction</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-main-docsydocsbest-practices-li><input type=checkbox id=m-main-docsydocsbest-practices-check>
<label for=m-main-docsydocsbest-practices-check><a href=/main-docsy/docs/best-practices/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-main-docsydocsbest-practices><span>Best Practices</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocsbest-practiceseffective-hpa-with-prometheus-adapter-li><input type=checkbox id=m-main-docsydocsbest-practiceseffective-hpa-with-prometheus-adapter-check>
<label for=m-main-docsydocsbest-practiceseffective-hpa-with-prometheus-adapter-check><a href=/main-docsy/docs/best-practices/effective-hpa-with-prometheus-adapter/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocsbest-practiceseffective-hpa-with-prometheus-adapter><span>Intelligent Autoscaling Practices Based on Effective HPA for Custom Metrics</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-main-docsydocsproposals-li><input type=checkbox id=m-main-docsydocsproposals-check>
<label for=m-main-docsydocsproposals-check><a href=/main-docsy/docs/proposals/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-main-docsydocsproposals><span>Proposals</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocsproposals20220228-advanced-cpuset-manger-li><input type=checkbox id=m-main-docsydocsproposals20220228-advanced-cpuset-manger-check>
<label for=m-main-docsydocsproposals20220228-advanced-cpuset-manger-check><a href=/main-docsy/docs/proposals/20220228-advanced-cpuset-manger/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocsproposals20220228-advanced-cpuset-manger><span>Advanced CPUSet Manager</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocsproposals20220402-policy-based-abnomal-detection-li><input type=checkbox id=m-main-docsydocsproposals20220402-policy-based-abnomal-detection-check>
<label for=m-main-docsydocsproposals20220402-policy-based-abnomal-detection-check><a href=/main-docsy/docs/proposals/20220402-policy-based-abnomal-detection/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocsproposals20220402-policy-based-abnomal-detection><span>Provide a policy-based abnormal detection mechanism in crane-agent</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocsproposals20220706-recommendation-framework-li><input type=checkbox id=m-main-docsydocsproposals20220706-recommendation-framework-check>
<label for=m-main-docsydocsproposals20220706-recommendation-framework-check><a href=/main-docsy/docs/proposals/20220706-recommendation-framework/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocsproposals20220706-recommendation-framework><span>Recommendation Framework</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocsproposalspod-sorting-and-precise-execution-for-crane-agent-li><input type=checkbox id=m-main-docsydocsproposalspod-sorting-and-precise-execution-for-crane-agent-check>
<label for=m-main-docsydocsproposalspod-sorting-and-precise-execution-for-crane-agent-check><a href=/main-docsy/docs/proposals/pod-sorting-and-precise-execution-for-crane-agent/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocsproposalspod-sorting-and-precise-execution-for-crane-agent><span>Pod Sorting And Precise Execution For Crane Agent</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-main-docsydocscontributing-li><input type=checkbox id=m-main-docsydocscontributing-check>
<label for=m-main-docsydocscontributing-check><a href=/main-docsy/docs/contributing/ title=Contributing class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-main-docsydocscontributing><span>Contributing Guidelines</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocscontributingcontributing-li><input type=checkbox id=m-main-docsydocscontributingcontributing-check>
<label for=m-main-docsydocscontributingcontributing-check><a href=/main-docsy/docs/contributing/contributing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocscontributingcontributing><span>Contributing to Crane</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocscontributingdeveloper-guide-li><input type=checkbox id=m-main-docsydocscontributingdeveloper-guide-check>
<label for=m-main-docsydocscontributingdeveloper-guide-check><a href=/main-docsy/docs/contributing/developer-guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocscontributingdeveloper-guide><span>Developer Guide</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocscontributingcode-standards-li><input type=checkbox id=m-main-docsydocscontributingcode-standards-check>
<label for=m-main-docsydocscontributingcode-standards-check><a href=/main-docsy/docs/contributing/code-standards/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocscontributingcode-standards><span>Code Standard</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-main-docsydocsroadmap-li><input type=checkbox id=m-main-docsydocsroadmap-check>
<label for=m-main-docsydocsroadmap-check><a href=/main-docsy/docs/roadmap/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-main-docsydocsroadmap><span>Roadmap</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocsroadmaproadmap-2022-li><input type=checkbox id=m-main-docsydocsroadmaproadmap-2022-check>
<label for=m-main-docsydocsroadmaproadmap-2022-check><a href=/main-docsy/docs/roadmap/roadmap-2022/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-main-docsydocsroadmaproadmap-2022><span>Roadmap for 2022</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-main-docsydocsmirror-resources-li><input type=checkbox id=m-main-docsydocsmirror-resources-check>
<label for=m-main-docsydocsmirror-resources-check><a href=/main-docsy/docs/mirror-resources/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-main-docsydocsmirror-resources><span>Mirror Resources</span></a></label></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#features>Features</a><ul><li><a href=#prediction-driven-autoscaling>Prediction-driven autoscaling</a></li><li><a href=#scalestrategy>ScaleStrategy</a></li><li><a href=#cron-based-autoscaling>Cron-based autoscaling</a></li><li><a href=#horizontalpodautoscaler-compatible>HorizontalPodAutoscaler compatible</a></li><li><a href=#effectivehorizontalpodautoscaler-status>EffectiveHorizontalPodAutoscaler status</a></li></ul></li><li><a href=#faq>FAQ</a><ul><li><a href=#error-unable-to-get-metric-crane_pod_cpu_usage>error: unable to get metric crane_pod_cpu_usage</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=https://docs.gocrane.io/main-docsy/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://docs.gocrane.io/main-docsy/docs/tutorials/>Tutorials</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://docs.gocrane.io/main-docsy/docs/tutorials/using-effective-hpa-to-scaling-with-effectiveness/>Effective HorizontalPodAutoscaler</a></li></ol></nav><div class=td-content><h1>Effective HorizontalPodAutoscaler</h1><div class=lead>Using effective hpa to scaling with effectiveness</div><header class=article-meta><p class=reading-time><i class="fa fa-clock" aria-hidden=true></i>&nbsp; 14 minute read &nbsp;</p></header><p>EffectiveHorizontalPodAutoscaler helps you manage application scaling in an easy way.</p><p>It is compatible with HorizontalPodAutoscaler but extends more features.</p><p>EffectiveHorizontalPodAutoscaler supports prediction-driven autoscaling.</p><p>With this capability, user can forecast the incoming peak flow and scale up their application ahead, also user can know when the peak flow will end and scale down their application gracefully.</p><p>Besides that, EffectiveHorizontalPodAutoscaler also defines several scale strategies to support different scaling scenarios.</p><h2 id=features>Features</h2><p>A EffectiveHorizontalPodAutoscaler sample yaml looks like below:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>autoscaling.crane.io/v1alpha1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>EffectiveHorizontalPodAutoscaler</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>php-apache</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>scaleTargetRef</span>: <span style=color:#75715e>#(1)</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>php-apache</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>minReplicas</span>: <span style=color:#ae81ff>1</span> <span style=color:#75715e>#(2)</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>maxReplicas</span>: <span style=color:#ae81ff>10</span> <span style=color:#75715e>#(3)</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>scaleStrategy</span>: <span style=color:#ae81ff>Auto</span> <span style=color:#75715e>#(4)</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>metrics</span>: <span style=color:#75715e>#(5)</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Resource</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>resource</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>cpu</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>target</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Utilization</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>averageUtilization</span>: <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>prediction</span>: <span style=color:#75715e>#(6)</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>predictionWindowSeconds</span>: <span style=color:#ae81ff>3600</span> <span style=color:#75715e>#(7)</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>predictionAlgorithm</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>algorithmType</span>: <span style=color:#ae81ff>dsp</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>dsp</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>sampleInterval</span>: <span style=color:#e6db74>&#34;60s&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>historyLength</span>: <span style=color:#e6db74>&#34;3d&#34;</span>
</span></span></code></pre></div><ol><li>ScaleTargetRef is the reference to the workload that should be scaled.</li><li>MinReplicas is the lower limit replicas to the scale target which the autoscaler can scale down to.</li><li>MaxReplicas is the upper limit replicas to the scale target which the autoscaler can scale up to.</li><li>ScaleStrategy indicates the strategy to scaling target, value can be &ldquo;Auto&rdquo; and &ldquo;Preview&rdquo;.</li><li>Metrics contains the specifications for which to use to calculate the desired replica count.</li><li>Prediction defines configurations for predict resources.If unspecified, defaults don&rsquo;t enable prediction.</li><li>PredictionWindowSeconds is the time window to predict metrics in the future.</li></ol><h3 id=prediction-driven-autoscaling>Prediction-driven autoscaling</h3><p>Most of online applications follow regular pattern. We can predict future trend of hours or days. DSP is a time series prediction algorithm that applicable for application metrics prediction.</p><p>The following shows a sample EffectiveHorizontalPodAutoscaler yaml with prediction enabled.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>autoscaling.crane.io/v1alpha1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>EffectiveHorizontalPodAutoscaler</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>prediction</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>predictionWindowSeconds</span>: <span style=color:#ae81ff>3600</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>predictionAlgorithm</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>algorithmType</span>: <span style=color:#ae81ff>dsp</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>dsp</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>sampleInterval</span>: <span style=color:#e6db74>&#34;60s&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>historyLength</span>: <span style=color:#e6db74>&#34;3d&#34;</span>
</span></span></code></pre></div><h4 id=metric-conversion>Metric conversion</h4><p>When user defines <code>spec.metrics</code> in EffectiveHorizontalPodAutoscaler and prediction configuration is enabled, EffectiveHPAController will convert it to a new metric and configure the background HorizontalPodAutoscaler.</p><p>This is a source EffectiveHorizontalPodAutoscaler yaml for metric definition.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>autoscaling.crane.io/v1alpha1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>EffectiveHorizontalPodAutoscaler</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>metrics</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Resource</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>resource</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>cpu</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>target</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Utilization</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>averageUtilization</span>: <span style=color:#ae81ff>50</span>
</span></span></code></pre></div><p>It&rsquo;s converted to underlying HorizontalPodAutoscaler metrics yaml.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>autoscaling/v2beta1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>HorizontalPodAutoscaler</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>metrics</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>pods</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>metric</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>name</span>: <span style=color:#ae81ff>crane_pod_cpu_usage</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>            <span style=color:#f92672>matchLabels</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>autoscaling.crane.io/effective-hpa-uid</span>: <span style=color:#ae81ff>f9b92249-eab9-4671-afe0-17925e5987b8</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>target</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>type</span>: <span style=color:#ae81ff>AverageValue</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>averageValue</span>: <span style=color:#ae81ff>100m</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Pods</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>resource</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>name</span>: <span style=color:#ae81ff>cpu</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>target</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Utilization</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>averageUtilization</span>: <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Resource</span>
</span></span></code></pre></div><p>In this sample, the resource metric defined by user is converted into two metrics: prediction metric and origin metric.</p><ul><li><strong>prediction metric</strong> is custom metrics that provided by component MetricAdapter. Since custom metric doesn&rsquo;t support <code>targetAverageUtilization</code>, it&rsquo;s converted to <code>targetAverageValue</code> based on target pod cpu request.</li><li><strong>origin metric</strong> is equivalent to user defined metrics in EffectiveHorizontalPodAutoscaler, to fall back to baseline user defined in case of some unexpected situation e.g. business traffic sudden growth.</li></ul><p>HorizontalPodAutoscaler will calculate on each metric, and propose new replicas based on that. The <strong>largest</strong> one will be picked as the new scale.</p><h4 id=horizontal-scaling-process>Horizontal scaling process</h4><p>There are six steps of prediction and scaling process:</p><ol><li>EffectiveHPAController create HorizontalPodAutoscaler and TimeSeriesPrediction instance</li><li>PredictionCore get historic metric from prometheus and persist into TimeSeriesPrediction</li><li>HPAController read metrics from KubeApiServer</li><li>KubeApiServer forward requests to MetricAdapter and MetricServer</li><li>HPAController calculate all metric results and propose a new scale replicas for target</li><li>HPAController scale target with Scale Api</li></ol><p>Below is the process flow.
<img src=/images/crane-ehpa.png alt=crane-ehpa></p><h4 id=integration-with-prometheus-adapter>Integration with Prometheus Adapter</h4><p>Prometheus Adapter is a popular custom metric adapter, through which user-defined metrics configurations are accessible.</p><p>Please see this doc to <a href=/docs/best-practices/effective-hpa-with-prometheus-adapter/>learn more</a> .</p><h4 id=use-case>Use case</h4><p>Let&rsquo;s take one use case that using EffectiveHorizontalPodAutoscaler in production cluster.</p><p>We did a profiling on the load history of one application in production and replayed it in staging environment. With the same application, we leverage both EffectiveHorizontalPodAutoscaler and HorizontalPodAutoscaler to manage the scale and compare the result.</p><p>From the red line in below chart, we can see its actual total cpu usage is high at ~8am, ~12pm, ~8pm and low in midnight. The green line shows the prediction cpu usage trend.
<img src=/images/crane-ehpa-metrics-chart.png alt=crane-ehpa-metrics-chart></p><p>Below is the comparison result between EffectiveHorizontalPodAutoscaler and HorizontalPodAutoscaler. The red line is the replica number generated by HorizontalPodAutoscaler and the green line is the result from EffectiveHorizontalPodAutoscaler.
<img src=/images/crane-ehpa-replicas-chart.png alt=crane-ehpa-metrics-replicas-chart></p><p>We can see significant improvement with EffectiveHorizontalPodAutoscaler:</p><ul><li>Scale up in advance before peek flow</li><li>Scale down gracefully after peek flow</li><li>Fewer replicas changes than HorizontalPodAutoscaler</li></ul><h3 id=scalestrategy>ScaleStrategy</h3><p>EffectiveHorizontalPodAutoscaler provides two strategies for scaling: <code>Auto</code> and <code>Preview</code>. User can change the strategy at runtime, and it will take effect on the fly.</p><h4 id=auto>Auto</h4><p>Auto strategy achieves automatic scaling based on metrics. It is the default strategy. With this strategy, EffectiveHorizontalPodAutoscaler will create and control a HorizontalPodAutoscaler instance in backend. We don&rsquo;t recommend explicit configuration on the underlying HorizontalPodAutoscaler because it will be overridden by EffectiveHPAController. If user delete EffectiveHorizontalPodAutoscaler, HorizontalPodAutoscaler will be cleaned up too.</p><h4 id=preview>Preview</h4><p>Preview strategy means EffectiveHorizontalPodAutoscaler won&rsquo;t change target&rsquo;s replicas automatically, so you can preview the calculated replicas and control target&rsquo;s replicas by themselves. User can switch from default strategy to this one by applying <code>spec.scaleStrategy</code> to <code>Preview</code>. It will take effect immediately, During the switch, EffectiveHPAController will disable HorizontalPodAutoscaler if exists and scale the target to the value <code>spec.specificReplicas</code>, if user not set <code>spec.specificReplicas</code>, when ScaleStrategy is change to Preview, it will just stop scaling.</p><p>A sample preview configuration looks like following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>autoscaling.crane.io/v1alpha1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>EffectiveHorizontalPodAutoscaler</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>scaleStrategy</span>: <span style=color:#ae81ff>Preview  </span> <span style=color:#75715e># ScaleStrategy indicate the strategy to scaling target, value can be &#34;Auto&#34; and &#34;Preview&#34;.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>specificReplicas</span>: <span style=color:#ae81ff>5</span>      <span style=color:#75715e># SpecificReplicas specify the target replicas.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>status</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>expectReplicas</span>: <span style=color:#ae81ff>4</span>        <span style=color:#75715e># expectReplicas is the calculated replicas that based on prediction metrics or spec.specificReplicas.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>currentReplicas</span>: <span style=color:#ae81ff>4</span>       <span style=color:#75715e># currentReplicas is actual replicas from target</span>
</span></span></code></pre></div><h3 id=cron-based-autoscaling>Cron-based autoscaling</h3><p>EffectiveHorizontalPodAutoscaler supports cron based autoscaling.</p><p>Besides based on monitoring metrics, sometimes there are differences between holiday and weekdays in workload traffic, and a simple prediction algorithm may not work relatively well. Then you can make up for the lack of prediction by setting the weekend cron to have a larger number of replicas.</p><p>For some non-web traffic applications, for example, some applications do not need to work on weekends, and then want to reduce the workload replicas to 1, you can also configure cron to reduce the cost for your service.</p><p>Following are cron main fields in the ehpa spec:</p><ul><li>CronSpec: You can set multiple cron autoscaling configurations, cron cycle can set the start time and end time of the cycle, and the number of replicas of the workload can be continuously guaranteed to the set target value within the time range.</li><li>Name: cron identifier</li><li>TargetReplicas: the target number of replicas of the workload in this cron time range.</li><li>Start: The start time of the cron, in the standard linux crontab format</li><li>End: the end time of the cron, in the standard linux crontab format</li></ul><p>Current cron autoscaling capabilities from some manufacturers and communities have some shortcomings.</p><ol><li>The cron capability is provided separately, has no global view of autoscaling, poor compatibility with HPA, and conflicts with other scale trigger.</li><li>The semantics and behavior of cron do not match very well, and are even very difficult to understand when used, which can easily mislead users and lead to autoscaling failures.</li></ol><p>The following figure shows the comparison between the current EHPA cron autoscaling implementation and other cron capabilities.</p><p><img src=/images/crane-keda-ali-compare-cron.png alt=crane-keda-ali-compare-cron.png></p><p>To address the above issues, the cron autoscaling implemented by EHPA is designed on the basis of compatibility with HPA, and cron, as an indicator of HPA, acts on the workload object together with other indicators. In addition, the setting of cron is also very simple. When cron is configured separately, the default scaling of the workload will not be performed when it is not in the active time range.</p><h4 id=cron-working-without-other-metrics>Cron working without other metrics</h4><p>You can just configure cron itself to work, assume you have no other metrics configured.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>autoscaling.crane.io/v1alpha1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>EffectiveHorizontalPodAutoscaler</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>php-apache-local</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># ScaleTargetRef is the reference to the workload that should be scaled.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>scaleTargetRef</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>php-apache</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>minReplicas</span>: <span style=color:#ae81ff>1</span>        <span style=color:#75715e># MinReplicas is the lower limit replicas to the scale target which the autoscaler can scale down to.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>maxReplicas</span>: <span style=color:#ae81ff>100</span>       <span style=color:#75715e># MaxReplicas is the upper limit replicas to the scale target which the autoscaler can scale up to.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>scaleStrategy</span>: <span style=color:#ae81ff>Auto  </span> <span style=color:#75715e># ScaleStrategy indicate the strategy to scaling target, value can be &#34;Auto&#34; and &#34;Manual&#34;.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Better to setting cron to fill the one complete time period such as one day, one week</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Below is one day cron scheduling, it</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>#(targetReplicas)</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>#80                  --------     ---------        ----------</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>#                    |       |    |        |       |         |</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>#10       ------------       -----         --------          ----------</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>#(time)   0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Local timezone means you use the server&#39;s(or maybe is a container&#39;s) timezone which the craned running in. for example, if your craned started as utc timezone, then it is utc. if it started as Asia/Shanghai, then it is Asia/Shanghai.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>crons</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;cron1&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>timezone</span>: <span style=color:#e6db74>&#34;Local&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;scale down&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>start</span>: <span style=color:#e6db74>&#34;0 0 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>end</span>: <span style=color:#e6db74>&#34;0 6 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>targetReplicas</span>: <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;cron2&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>timezone</span>: <span style=color:#e6db74>&#34;Local&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;scale up&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>start</span>: <span style=color:#e6db74>&#34;0 6 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>end</span>: <span style=color:#e6db74>&#34;0 9 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>targetReplicas</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;cron3&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>timezone</span>: <span style=color:#e6db74>&#34;Local&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;scale down&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>start</span>: <span style=color:#e6db74>&#34;00 9 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>end</span>: <span style=color:#e6db74>&#34;00 11 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>targetReplicas</span>: <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;cron4&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>timezone</span>: <span style=color:#e6db74>&#34;Local&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;scale up&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>start</span>: <span style=color:#e6db74>&#34;00 11 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>end</span>: <span style=color:#e6db74>&#34;00 14 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>targetReplicas</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;cron5&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>timezone</span>: <span style=color:#e6db74>&#34;Local&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;scale down&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>start</span>: <span style=color:#e6db74>&#34;00 14 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>end</span>: <span style=color:#e6db74>&#34;00 17 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>targetReplicas</span>: <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;cron6&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>timezone</span>: <span style=color:#e6db74>&#34;Local&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;scale up&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>start</span>: <span style=color:#e6db74>&#34;00 17 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>end</span>: <span style=color:#e6db74>&#34;00 20 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>targetReplicas</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;cron7&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>timezone</span>: <span style=color:#e6db74>&#34;Local&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;scale down&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>start</span>: <span style=color:#e6db74>&#34;00 20 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>end</span>: <span style=color:#e6db74>&#34;00 00 ? * *&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>targetReplicas</span>: <span style=color:#ae81ff>10</span>
</span></span></code></pre></div><p>CronSpec has following fields.</p><ul><li><strong>name</strong> defines the name of the cron, cron name must be unique in the same ehpa</li><li><strong>description</strong> defines the details description of the cron. it can be empty.</li><li><strong>timezone</strong> defines the timezone of the cron which the crane to schedule in. If unspecified, default use <code>UTC</code> timezone. you can set it to <code>Local</code> which means you use timezone of the container of crane service running in. Also, <code>America/Los_Angeles</code> is ok.</li><li><strong>start</strong> defines the cron start time schedule, which is crontab format. see <a href=https://en.wikipedia.org/wiki/Cron>https://en.wikipedia.org/wiki/Cron</a></li><li><strong>end</strong> defines the cron end time schedule, which is crontab format. see <a href=https://en.wikipedia.org/wiki/Cron>https://en.wikipedia.org/wiki/Cron</a></li><li><strong>targetReplicas</strong> defines the target replicas the workload to scale when the cron is active, which means current time is between start and end.</li></ul><p>Above means each day, the workload needs to keep the replicas hourly.</p><pre tabindex=0><code>  #80                  --------     ---------        ----------
  #                    |       |    |        |       |         |
  #1        ------------       -----         --------          ----------
  #(time)   0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
</code></pre><p>Remember <strong>not to set start time is after end</strong>. For example, when you set following:</p><pre tabindex=0><code>  crons:
    - name: &#34;cron2&#34;
      timezone: &#34;Local&#34;
      description: &#34;scale up&#34;
      start: &#34;0 9 ? * *&#34;
      end: &#34;0 6 ? * *&#34;
      targetReplicas: 80
</code></pre><p>Above is not valid because the start will be always later than end. The hpa controller will always get the workload&rsquo;s desired replica to scale, which means keep the original replicas.</p><h4 id=horizontal-scaling-process-1>Horizontal scaling process</h4><p>There are six steps of cron-driven and scaling process:</p><ol><li>EffectiveHPAController creates HorizontalPodAutoscaler which is injected to external cron metrics in spec.</li><li>HPAController reads cron external metrics from KubeApiServer</li><li>KubeApiServer forwards requests to MetricAdapter and MetricServer</li><li>The MetricAdapter finds the cron scaler for target hpa, and detect if the cron scaler is active, which means the current time is between the cron start and end schedule time. It will return the <code>TargetReplicas</code> specified in the <code>CronSpec</code>.</li><li>HPAController calculates all metric results and propose a new scale replicas for target by selecting the largest one.</li><li>HPAController scales target with Scale Api</li></ol><p>When use ehpa, users can configure only cron metric, let the ehpa to be used as cron hpa.</p><p>Multiple crons of one ehpa will be transformed to one external metric. HPA will fetch this external cron metric and calculates target replicas when reconcile. HPA will select the largest proposal replicas to scale the workload from multiple metrics.</p><h4 id=cron-working-with-other-metrics-together>Cron working with other metrics together</h4><p>EffectiveHorizontalPodAutoscaler is compatible with HorizontalPodAutoscaler(Which is kubernetes built in). So if you configured metrics for HPA such as cpu or memory, then the HPA will scale by the real time metric it observed.</p><p>With EHPA, users can configure CronMetric、PredictionMetric、OriginalMetric at the same time.</p><p><strong>We highly recomend you configure metrics of all dimensions. They are represtenting the cron replicas, prior predicted replicas, posterior observed replicas.</strong></p><p>This is a powerful feature. Because HPA always pick the largest replicas calculated by all dimensional metrics to scale. Which will gurantee your workload&rsquo;s QoS, when you configure three types of autoscaling at the same time, the replicas caculated by real metric observed is largest, then it will use the max one. Although the replicas caculated by prediction metric is smaller for some unexpected reason. So you don&rsquo;t be worried about the QoS.</p><h4 id=mechanism>Mechanism</h4><p>When metrics adapter deal with the external cron metric requests, metrics adapter will do following steps.</p><pre tabindex=0><code class=language-mermaid data-lang=mermaid>graph LR
  A[Start] --&gt; B{Active Cron?};
  B --&gt;|Yes| C(largest targetReplicas) --&gt; F;
  B --&gt;|No| D{Work together with other metrics?};
  D --&gt;|Yes| G(minimum replicas) --&gt; F;
  D --&gt;|No| H(current replicas) --&gt; F;
  F[Result workload replicas];
</code></pre><ol><li><p>No active cron now, there are two cases:</p><ul><li>no other hpa metrics work with cron together, then return current workload replicas to keep the original desired replicas</li><li>other hpa metrics work with cron together, then return min value to remove the cron impact for other metrics. when cron is working with other metrics together, it should not return workload&rsquo;s original desired replicas, because there maybe other metrics want to trigger the workload to scale in. hpa controller select max replicas computed by all metrics(this is hpa default policy in hard code), cron will impact the hpa. so we should remove the cron effect when cron is not active, it should return min value.</li></ul></li><li><p>Has active ones. we use the largest targetReplicas specified in cron spec. Basically, there should not be more then one active cron at the same time period, it is not a best practice.</p></li></ol><p>HPA will get the cron external metric value, then it will compute the replicas by itself.</p><h4 id=use-case-1>Use Case</h4><p>When you need to keep the workload replicas to minimum at midnight, you configured cron. And you need the HPA to get the real metric observed by metrics server to do scale based on real time observed metric. At last you configure a prediction-driven metric to do scale up early and scale down lately by predicting way.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>autoscaling.crane.io/v1alpha1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>EffectiveHorizontalPodAutoscaler</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>php-apache-multi-dimensions</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># ScaleTargetRef is the reference to the workload that should be scaled.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>scaleTargetRef</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>php-apache</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>minReplicas</span>: <span style=color:#ae81ff>1</span>        <span style=color:#75715e># MinReplicas is the lower limit replicas to the scale target which the autoscaler can scale down to.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>maxReplicas</span>: <span style=color:#ae81ff>100</span>       <span style=color:#75715e># MaxReplicas is the upper limit replicas to the scale target which the autoscaler can scale up to.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>scaleStrategy</span>: <span style=color:#ae81ff>Auto  </span> <span style=color:#75715e># ScaleStrategy indicate the strategy to scaling target, value can be &#34;Auto&#34; and &#34;Manual&#34;.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Metrics contains the specifications for which to use to calculate the desired replica count.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>metrics</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Resource</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>resource</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>name</span>: <span style=color:#ae81ff>cpu</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>target</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Utilization</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>averageUtilization</span>: <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Prediction defines configurations for predict resources.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># If unspecified, defaults don&#39;t enable prediction.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>prediction</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>predictionWindowSeconds</span>: <span style=color:#ae81ff>3600</span>   <span style=color:#75715e># PredictionWindowSeconds is the time window to predict metrics in the future.</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>predictionAlgorithm</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>algorithmType</span>: <span style=color:#ae81ff>dsp</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>dsp</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>sampleInterval</span>: <span style=color:#e6db74>&#34;60s&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>historyLength</span>: <span style=color:#e6db74>&#34;3d&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>crons</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;cron1&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;scale up&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>start</span>: <span style=color:#e6db74>&#34;0 0 ? * 6&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>end</span>: <span style=color:#e6db74>&#34;00 23 ? * 0&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>targetReplicas</span>: <span style=color:#ae81ff>100</span>
</span></span></code></pre></div><h3 id=horizontalpodautoscaler-compatible>HorizontalPodAutoscaler compatible</h3><p>EffectiveHorizontalPodAutoscaler is designed to be compatible with k8s native HorizontalPodAutoscaler, because we don&rsquo;t reinvent the autoscaling part but take advantage of the extension from HorizontalPodAutoscaler and build a high level autoscaling CRD. EffectiveHorizontalPodAutoscaler support all abilities from HorizontalPodAutoscaler like metricSpec and behavior.</p><p>EffectiveHorizontalPodAutoscaler will continue support incoming new feature from HorizontalPodAutoscaler.</p><h3 id=effectivehorizontalpodautoscaler-status>EffectiveHorizontalPodAutoscaler status</h3><p>This is a yaml from EffectiveHorizontalPodAutoscaler.Status</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>autoscaling.crane.io/v1alpha1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>EffectiveHorizontalPodAutoscaler</span>
</span></span><span style=display:flex><span><span style=color:#f92672>status</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>conditions</span>:                                               
</span></span><span style=display:flex><span>  - <span style=color:#f92672>lastTransitionTime</span>: <span style=color:#e6db74>&#34;2021-11-30T08:18:59Z&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>message</span>: <span style=color:#ae81ff>the HPA controller was able to get the target&#39;s current scale</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>reason</span>: <span style=color:#ae81ff>SucceededGetScale</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>status</span>: <span style=color:#e6db74>&#34;True&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>type</span>: <span style=color:#ae81ff>AbleToScale</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>lastTransitionTime</span>: <span style=color:#e6db74>&#34;2021-11-30T08:18:59Z&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>message</span>: <span style=color:#ae81ff>Effective HPA is ready</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>reason</span>: <span style=color:#ae81ff>EffectiveHorizontalPodAutoscalerReady</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>status</span>: <span style=color:#e6db74>&#34;True&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Ready</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>currentReplicas</span>: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>expectReplicas</span>: <span style=color:#ae81ff>0</span>
</span></span></code></pre></div><h2 id=faq>FAQ</h2><h3 id=error-unable-to-get-metric-crane_pod_cpu_usage>error: unable to get metric crane_pod_cpu_usage</h3><p>When checking the status for EffectiveHorizontalPodAutoscaler, you may see this error:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#f92672>lastTransitionTime</span>: <span style=color:#e6db74>&#34;2022-05-15T14:05:43Z&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>message: &#39;the HPA was unable to compute the replica count</span>: <span style=color:#ae81ff>unable to get metric</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>crane_pod_cpu_usage: unable to fetch metrics from custom metrics API</span>: <span style=color:#ae81ff>TimeSeriesPrediction</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>is not ready. &#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>reason</span>: <span style=color:#ae81ff>FailedGetPodsMetric</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>status</span>: <span style=color:#e6db74>&#34;False&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>type</span>: <span style=color:#ae81ff>ScalingActive</span>
</span></span></code></pre></div><p>reason: Not all workload&rsquo;s cpu metric are predictable, if predict your workload failed, it will show above errors.</p><p>solution:</p><ul><li>Just waiting. the Prediction algorithm need more time, you can see <code>DSP</code> section to know more about this algorithm.</li><li>EffectiveHorizontalPodAutoscaler have a protection mechanism when prediction failed, it will use the actual cpu utilization to do autoscaling.</li></ul></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://join.slack.com/t/gocrane/shared_invite/zt-1ehm9871y-Zgs5pXxSIhYg5hGSc5XZgQ aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Community Meetings" aria-label="Community Meetings"><a class=text-white target=_blank rel=noopener href=https://www.wolai.com/33xC4HB1JXCCH1x8umfioS aria-label="Community Meetings"><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/gocrane/crane aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://join.slack.com/t/gocrane/shared_invite/zt-1ehm9871y-Zgs5pXxSIhYg5hGSc5XZgQ aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Community Meetings" aria-label="Community Meetings"><a class=text-white target=_blank rel=noopener href=https://www.wolai.com/33xC4HB1JXCCH1x8umfioS aria-label="Community Meetings"><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 The Crane Authors All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/main-docsy/js/main.min.780da35d51262201dbdab6376e49da7e3951a292d004e80aa25302ba49e27b5d.js integrity="sha256-eA2jXVEmIgHb2rY3bknafjlRopLQBOgKolMCuknie10=" crossorigin=anonymous></script></body></html>